<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sierra de Guadarrama Day Trip - November 15th</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            text-align: center;
            margin-bottom: 30px;
        }
        h3 {
            color: #3498db;
            text-align: center;
            font-style: italic;
        }
        .stop {
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #3498db;
        }
        .stop-title {
            color: #2c3e50;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .stop img {
            width: 100%;
            max-width: 600px;
            height: auto;
            border-radius: 8px;
            margin: 15px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .stop strong {
            white-space: nowrap;
        }
        .time {
            font-weight: bold;
            color: #e74c3c;
        }
        .duration {
            font-weight: bold;
            color: #27ae60;
        }
        .reminder-section {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        .reminder-section h3 {
            color: #856404;
            text-align: left;
        }
        ul {
            list-style-type: none;
            padding-left: 0;
        }
        ul li:before {
            content: "‚úì ";
            color: #27ae60;
            font-weight: bold;
            margin-right: 5px;
        }
        .emergency {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        .highlight {
            background-color: #d4edda;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .star {
            color: #f39c12;
            font-size: 1.2em;
        }
        .gps-section {
            background-color: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        .gps-section h4 {
            color: #0c5460;
            margin-top: 0;
        }
        .weather-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            color: white;
        }
        .weather-section h3 {
            color: white;
            text-align: center;
            margin-top: 0;
        }
        .weather-forecast {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        .weather-day {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            flex: 1;
            min-width: 150px;
            backdrop-filter: blur(10px);
        }
        .weather-day h4 {
            margin: 0 0 10px 0;
            font-size: 1.1em;
        }
        .weather-icon {
            font-size: 3em;
            margin: 10px 0;
        }
        .weather-temp {
            font-size: 1.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        .weather-description {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .weather-loading {
            text-align: center;
            padding: 20px;
            font-style: italic;
        }
        .weather-error {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
        }
        @media print {
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div style="text-align: center; margin-bottom: 20px; padding: 15px; background-color: #e8f4fd; border-radius: 8px;">
            <strong>üìç Alternative Itinerary Available:</strong> <a href="segovia-sierra.html" style="color: #0066cc; text-decoration: none; font-weight: bold;">View Segovia + Sierra de Guadarrama Combined Day Trip ‚Üí</a>
        </div>

        <h1>üèîÔ∏è SIERRA DE GUADARRAMA DAY TRIP</h1>
        <h2>Saturday, November 15th - Nature & Scenic Views Tour</h2>
        <h3>Perfect for Mixed Ages - Easy Walking Only!</h3>

        <div style="margin: 30px 0;">
            <h3 style="color: #2c3e50; margin-bottom: 15px; text-align: center;">üó∫Ô∏è Full Route Map</h3>
            <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
            <div id="map-sierra" style="width: 100%; height: 450px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);"></div>
            <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
            <script>
                var map = L.map('map-sierra').setView([40.75, -3.9], 10);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap contributors'
                }).addTo(map);

                // Add markers for each stop
                var stops = [
                    {lat: 40.4168, lng: -3.7038, name: 'Madrid (Start/End)'},
                    {lat: 40.7273, lng: -3.8672, name: 'Manzanares El Real Castle'},
                    {lat: 40.7445, lng: -3.8772, name: 'La Pedriza'},
                    {lat: 40.7806, lng: -4.0067, name: 'Puerto de Navacerrada'},
                    {lat: 41.0064, lng: -3.8886, name: 'Rascafr√≠a'},
                    {lat: 40.9967, lng: -3.9306, name: 'Mirador de Los Robledos'},
                    {lat: 40.8194, lng: -3.9722, name: 'Puerto de Cotos'}
                ];

                // Create custom numbered icon
                stops.forEach(function(stop, index) {
                    var icon = L.divIcon({
                        className: 'custom-marker',
                        html: '<div style="background-color: #3498db; color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">' + (index + 1) + '</div>',
                        iconSize: [28, 28],
                        iconAnchor: [14, 14]
                    });
                    L.marker([stop.lat, stop.lng], {icon: icon})
                        .bindPopup('<b>' + (index + 1) + '. ' + stop.name + '</b>')
                        .addTo(map);
                });

                // Draw route line
                var routeCoords = stops.map(s => [s.lat, s.lng]);
                routeCoords.push([40.4168, -3.7038]); // Return to Madrid
                L.polyline(routeCoords, {color: '#3498db', weight: 3}).addTo(map);
            </script>
            <p style="margin-top: 15px; text-align: center; font-size: 0.9em; color: #666;">
                <a href="https://www.google.com/maps/dir/Madrid,+Spain/Castillo+de+Manzanares+el+Real,+Manzanares+el+Real/La+Pedriza/Puerto+de+Navacerrada/Rascafr%C3%ADa/Puerto+de+Cotos/Madrid,+Spain/" target="_blank" style="color: #0066cc; text-decoration: none; font-weight: 500;">üìç Open full route with turn-by-turn directions in Google Maps ‚Üí</a>
            </p>
        </div>

        <div class="weather-section">
            <h3>üå§Ô∏è 3-Day Weather Forecast for Madrid</h3>
            <div id="weather-forecast" class="weather-loading">Loading weather data...</div>
        </div>
        <script>
            // Fetch weather data from Open-Meteo API (free, no API key required)
            async function fetchWeather() {
                try {
                    const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=40.4168&longitude=-3.7038&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Europe/Madrid&forecast_days=3');
                    const data = await response.json();

                    const weatherCodes = {
                        0: { icon: '‚òÄÔ∏è', desc: 'Clear sky' },
                        1: { icon: 'üå§Ô∏è', desc: 'Mainly clear' },
                        2: { icon: '‚õÖ', desc: 'Partly cloudy' },
                        3: { icon: '‚òÅÔ∏è', desc: 'Overcast' },
                        45: { icon: 'üå´Ô∏è', desc: 'Foggy' },
                        48: { icon: 'üå´Ô∏è', desc: 'Foggy' },
                        51: { icon: 'üå¶Ô∏è', desc: 'Light drizzle' },
                        53: { icon: 'üå¶Ô∏è', desc: 'Drizzle' },
                        55: { icon: 'üåßÔ∏è', desc: 'Heavy drizzle' },
                        61: { icon: 'üåßÔ∏è', desc: 'Light rain' },
                        63: { icon: 'üåßÔ∏è', desc: 'Rain' },
                        65: { icon: 'üåßÔ∏è', desc: 'Heavy rain' },
                        71: { icon: 'üå®Ô∏è', desc: 'Light snow' },
                        73: { icon: 'üå®Ô∏è', desc: 'Snow' },
                        75: { icon: 'üå®Ô∏è', desc: 'Heavy snow' },
                        77: { icon: 'üå®Ô∏è', desc: 'Snow grains' },
                        80: { icon: 'üå¶Ô∏è', desc: 'Light showers' },
                        81: { icon: 'üåßÔ∏è', desc: 'Showers' },
                        82: { icon: '‚õàÔ∏è', desc: 'Heavy showers' },
                        85: { icon: 'üå®Ô∏è', desc: 'Light snow showers' },
                        86: { icon: 'üå®Ô∏è', desc: 'Snow showers' },
                        95: { icon: '‚õàÔ∏è', desc: 'Thunderstorm' },
                        96: { icon: '‚õàÔ∏è', desc: 'Thunderstorm with hail' },
                        99: { icon: '‚õàÔ∏è', desc: 'Thunderstorm with hail' }
                    };

                    const days = ['Today', 'Tomorrow', 'Day 3'];
                    let html = '<div class="weather-forecast">';

                    for (let i = 0; i < 3; i++) {
                        const code = data.daily.weathercode[i];
                        const weather = weatherCodes[code] || { icon: 'üå°Ô∏è', desc: 'Unknown' };
                        const maxTemp = Math.round(data.daily.temperature_2m_max[i]);
                        const minTemp = Math.round(data.daily.temperature_2m_min[i]);
                        const date = new Date(data.daily.time[i]);
                        const dayName = i === 0 ? 'Today' : i === 1 ? 'Tomorrow' : date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });

                        html += `
                            <div class="weather-day">
                                <h4>${dayName}</h4>
                                <div class="weather-icon">${weather.icon}</div>
                                <div class="weather-temp">${maxTemp}¬∞ / ${minTemp}¬∞C</div>
                                <div class="weather-description">${weather.desc}</div>
                            </div>
                        `;
                    }

                    html += '</div>';
                    document.getElementById('weather-forecast').innerHTML = html;
                } catch (error) {
                    document.getElementById('weather-forecast').innerHTML = '<div class="weather-error">Unable to load weather data. Please check your internet connection.</div>';
                }
            }

            // Load weather when page loads
            fetchWeather();
        </script>

        <hr>
        
        <div class="stop">
            <div class="stop-title"><span class="time">9:00 AM</span> - Depart Hotel üè®</div>
            <ul>
                <li>Pick up rental car at Leonardo City Center Madrid</li>
                <li>Drive time to first stop: ~50 minutes</li>
                <li>Remember: Bring warm clothes for mountain weather!</li>
            </ul>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">10:00 AM</span> - Manzanares El Real Castle üè∞</div>
            <img src="images/Castillo_de_Manzanares_el_Real_wallpaper_6-9_pano_edited.jpg" alt="Manzanares Castle - Medieval fortress with towers">
            <div class="highlight" style="background-color: #fff3cd; border: 1px solid #ffc107;">
                <strong>‚ö†Ô∏è IMPORTANT UPDATE:</strong> The castle is currently CLOSED to the public (as of January 2025). It returned to private owners and interior visits are not available.
            </div>
            <strong>What to expect:</strong>
            <ul>
                <li>Stunning exterior views - perfect for photos with mountain backdrop</li>
                <li>Walk around Santillana Lake with castle views</li>
                <li>Visit Church of Nuestra Se√±ora de las Nieves (15th century)</li>
                <li>Charming medieval town to explore</li>
                <li>NO entrance fee (exterior only)</li>
            </ul>
            <p><span class="duration">Duration: 30-45 minutes (exterior viewing only)</span></p>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">11:30 AM</span> - Mirador de Quebrantaherraduras üì∏</div>
            <img src="images/mirrador._Quebrantaherraduras.webp" alt="La Pedriza granite formations">
            <strong>Quick photo stop:</strong>
            <ul>
                <li>Spectacular views of La Pedriza granite formations</li>
                <li>One of Europe's largest granite landscapes</li>
                <li>Only 100m walk from parking</li>
            </ul>
            <p><span class="duration">Duration: 15 minutes</span></p>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">12:00 PM</span> - Puerto de Navacerrada üèîÔ∏è</div>
            <img src="images/cierre-estacion-esqui-puerto-navacerrada-1440x808.webp" alt="Mountain pass with snow">
            <strong>Scenic mountain drive:</strong>
            <ul>
                <li>Drive through famous mountain pass (1,773m elevation)</li>
                <li>Optional coffee stop at mountain caf√©</li>
                <li>Snow-capped peaks visible (weather permitting)</li>
            </ul>
            <div class="highlight">
                <strong>‚ö†Ô∏è Important:</strong> May need snow chains in November!
            </div>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">12:45 PM</span> - Rascafr√≠a Village üèòÔ∏è</div>
            <img src="images/rascafria.jpg" alt="Spanish mountain village">
            <strong>Lunch break:</strong>
            <ul>
                <li>Traditional Spanish mountain village</li>
                <li>Multiple restaurant options</li>
                <li>Recommended: Local specialties like cochinillo (roast pig)</li>
            </ul>
            <p><span class="duration">Duration: 1.5 hours for relaxed lunch</span></p>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">2:30 PM</span> - Mirador de Los Robledos <span class="star">‚≠ê BEST VIEW!</span></div>
            <img src="images/PNSG_030_04-mirador de los robledos.jpg" alt="Panoramic valley view">
            <strong>BEST VIEWPOINT OF THE DAY!</strong>
            <ul>
                <li>Panoramic views of El Paular valley</li>
                <li>Mountains and forests as far as the eye can see</li>
                <li>Dedicated parking area</li>
                <li>Perfect for group photos</li>
            </ul>
            <p><span class="duration">Duration: 20-30 minutes</span></p>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">3:15 PM</span> - Puerto de Cotos - La Gitana Viewpoint üåÑ</div>
            <img src="images/0.webp" alt="Mountain viewpoint">
            <strong>Multiple viewpoints in one stop:</strong>
            <ul>
                <li>La Gitana viewpoint with sundial</li>
                <li>Orientation guide to identify peaks</li>
                <li>El Pr√≠ncipe viewpoint nearby</li>
                <li>Easy 5-minute walk from parking</li>
            </ul>
            <p><span class="duration">Duration: 30 minutes</span></p>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">4:00 PM</span> - Optional: Embalse de Navacerrada üíß</div>
            <img src="images/navacerrada05.jpg" alt="Mountain reservoir">
            <strong>If time permits:</strong>
            <ul>
                <li>Beautiful reservoir surrounded by mountains</li>
                <li>Multiple photo stops along the shore</li>
                <li>Bird watching opportunities</li>
                <li>Or skip if tired and head back</li>
            </ul>
        </div>
        
        <div class="stop">
            <div class="stop-title"><span class="time">5:00-5:30 PM</span> - Return to Madrid üåÜ</div>
            <ul>
                <li>Scenic drive back before sunset</li>
                <li>Arrive at hotel by 5:30 PM</li>
                <li>Total driving: ~180 km round trip</li>
            </ul>
        </div>
        
        <div class="gps-section">
            <h4>üìç GPS COORDINATES FOR YOUR NAVIGATION:</h4>
            <p><strong>1. Manzanares El Real Castle:</strong> Calle Ca√±ada s/n, 28410 Manzanares El Real<br>
            <strong>2. Puerto de Navacerrada:</strong> M-601, 28470 Cercedilla<br>
            <strong>3. Rascafr√≠a:</strong> Plaza de la Villa, 28740 Rascafr√≠a<br>
            <strong>4. Mirador de Los Robledos:</strong> M-604 km 27, Rascafr√≠a<br>
            <strong>5. Puerto de Cotos:</strong> M-604, Puerto de Cotos<br>
            <strong>6. Embalse de Navacerrada:</strong> Carretera M-607, Navacerrada</p>
        </div>
        
        <div class="reminder-section">
            <h3>üìã IMPORTANT REMINDERS:</h3>
            
            <h4>What to Bring:</h4>
            <ul>
                <li><strong>Warm clothing</strong> (jacket, fleece, gloves)</li>
                <li><strong>Comfortable walking shoes</strong> (no hiking required!)</li>
                <li><strong>Camera</strong> for amazing photos</li>
                <li><strong>Cash</strong> for castle entrance (‚Ç¨5 per person)</li>
                <li><strong>Snacks & water</strong></li>
                <li><strong>Sunscreen & sunglasses</strong></li>
            </ul>
            
            <h4>Weather Considerations:</h4>
            <ul>
                <li>November temperatures: 5-10¬∞C in mountains</li>
                <li>Possible snow at higher elevations</li>
                <li><strong>IMPORTANT:</strong> Check weather forecast morning of trip</li>
                <li>Consider snow chains or ensure rental car has winter tires</li>
            </ul>
            
            <h4>Key Features:</h4>
            <div class="highlight">
                <ul>
                    <li>NO HIKING - All stops accessible by car/short walks</li>
                    <li>Suitable for ages 20s-50s</li>
                    <li>Flexible timing - can skip stops if needed</li>
                    <li>Beautiful scenery without physical effort</li>
                    <li>Mix of culture (castle) and nature (viewpoints)</li>
                </ul>
            </div>
        </div>
        
        <div class="emergency">
            <h4>üìû Emergency Contacts:</h4>
            <ul style="list-style-type: none;">
                <li>üè∞ Castle info: +34 91 853 00 08</li>
                <li>üö® Emergency services: 112</li>
                <li>üè® Your hotel: Leonardo City Center Madrid</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 30px; font-size: 1.2em; color: #3498db;">
            <strong>Have a wonderful trip! üéâ</strong><br>
            This itinerary offers the best of Sierra de Guadarrama's beauty<br>
            without any strenuous activity - perfect for your mixed-age group!
        </div>
    </div>
</body>
</html>